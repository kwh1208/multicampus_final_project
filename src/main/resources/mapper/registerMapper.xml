<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="eat_schedule.dao.RegisterDAO">
	<select id="loginOk" resultType="eat_schedule.dto.RegisterDTO">
 		select user_id, user_name, is_owner from user where user_id=#{param1} and user_password=#{param2}
 	</select>
 	<select id="idCheckCount" resultType="int">
 		select count(user_id) cnt from user where user_id=#{param1}
 	</select>
 	<select id="nicknameCheckCount" resultType="int">
 		select count(nickname) cnt from user where nickname=#{param1}
 	</select>
 	 <select id="phoneCheckCount" resultType="int">
 		select count(phone_number) cnt from user where phone_number=#{param1}
 	</select>
 	<insert id="registerInsert">
 		insert into user(user_id, user_password, user_name, nickname, email, address, gender, is_owner, phone_number, last_month_balloon, balloon, grade, join_date)
 		values(#{user_id}, #{user_password}, #{user_name}, #{nickname}, #{email}, #{address}, ${gender}, ${is_owner}, #{phone_number}, 15, 15, "브론즈", NOW())
 	</insert>
</mapper>